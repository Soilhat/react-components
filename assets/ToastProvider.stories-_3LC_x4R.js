import{j as t}from"./jsx-runtime-u17CrQMm.js";import{B as f}from"./Button-KiRdRT1U.js";import{r as a}from"./iframe-BFbzuqoR.js";import{T as v}from"./Toast-Br8pMeHa.js";const x=a.createContext(void 0);function C(){const e=a.useContext(x);if(!e)throw new Error("useToastContext must be used within a ToastProvider");return e}const j=3e3;function w(){return typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(16).slice(2)}`}function l({children:e}){const[p,r]=a.useState([]),o=a.useRef(new Map),u=a.useCallback(s=>{if(!s){for(const n of o.current)clearTimeout(n);o.current.clear(),r([]);return}const d=o.current.get(s);d&&clearTimeout(d),o.current.delete(s),r(n=>n.filter(m=>m.id!==s))},[]),T=a.useCallback((s,d)=>{const n=w(),m={id:n,message:s,type:d?.type??"success",duration:Math.max(1e3,d?.duration??j)};r(_=>[..._,m]);const g=setTimeout(()=>u(n),m.duration);return o.current.set(n,g),n},[u]),y=a.useMemo(()=>({showToast:T,dismiss:u}),[T,u]);return t.jsxs(x.Provider,{value:y,children:[e,t.jsx("div",{className:"fixed bottom-4 right-4 z-9999 w-80 max-w-[calc(100vw-2rem)] flex flex-col gap-2",children:p.map(s=>t.jsx(v,{message:s.message,type:s.type,onClose:()=>u(s.id)},s.id))})]})}l.__docgenInfo={description:"",methods:[],displayName:"ToastProvider"};function h(){const{showToast:e,dismiss:p}=C();return{showToast:e,dismiss:p,success:(r,o=3e3)=>e(r,{type:"success",duration:o}),error:(r,o=3500)=>e(r,{type:"error",duration:o}),info:(r,o=3e3)=>e(r,{type:"info",duration:o})}}const D={title:"Feedback/ToastProvider",component:l},c=()=>t.jsx(l,{children:t.jsx(P,{})});function P(){const e=h();return t.jsx(f,{onClick:()=>e.success("This is a success toast!"),color_name:"success",children:"Show Success Toast"})}const i=()=>t.jsx(l,{children:t.jsx(S,{})});function S(){const e=h();return t.jsxs("div",{style:{display:"flex",gap:8},children:[t.jsx(f,{onClick:()=>e.error("Error occurred!",4e3),color_name:"danger",children:"Show Error Toast"}),t.jsx(f,{onClick:()=>e.info("Some info for you.",2e3),color_name:"info",children:"Show Info Toast"})]})}c.__docgenInfo={description:"",methods:[],displayName:"BasicUsage"};i.__docgenInfo={description:"",methods:[],displayName:"CustomDurationAndType"};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`() => <ToastProvider>
    <DemoButton />
  </ToastProvider>`,...c.parameters?.docs?.source}}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`() => <ToastProvider>
    <CustomDemo />
  </ToastProvider>`,...i.parameters?.docs?.source}}};const U=["BasicUsage","CustomDurationAndType"],k=Object.freeze(Object.defineProperty({__proto__:null,BasicUsage:c,CustomDurationAndType:i,__namedExportsOrder:U,default:D},Symbol.toStringTag,{value:"Module"}));export{c as B,i as C,l as T,k as a};
